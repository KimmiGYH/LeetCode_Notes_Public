# 1011_Capacity To Ship Packages Within D Days_在D天内送达包裹的能力

## 解法一：二分查找 $O(n\log(\Sigma w)$

**思路：**

- 对于一艘承载力为 $K$ 船来说，我们必然会在不超过其承载力的前提下贪心地往上装载货物，这样才能使得运送包裹所花费的时间最短。
- 如果船在承载力为 $K$ 的条件下可以完成在 $D$ 天内送达包裹的任务，那么任何承载力大于 $K$ 的条件下依然也能完成任务。
- 我们可以让这个承载力 $K$ 从 $max(weights)$ 开始（即所有包裹中质量最大包裹的重量，低于这个重量我们不可能完成任务），逐渐增大承载力 $K$ ，直到 $K$ 可以让我们在 $D$ 天内送达包裹。此时 $K$ 即为我们所要求的最低承载力。
- 逐渐增大承载力 $K$ 的方法效率过低，让我们用二分查找的方法来优化它。

**算法：**

- 定义函数 `cnt_days`，来判断在最低承载力为 $K$ 的情形下能否在 $D$ 天内送达所有包裹。我们所要做的就是按照传送带上货物的顺序，依次且尽可能多地往船上装载货物，当该艘船无法装下更多货物时，我们换一搜船，同时将天数加 $1$。当运输完所有货物后，我们判断所用的天数是否小于等于 $D$ 。

- 用二分查找的方式，来查找这个最低承载力，如果 $mid$ 可以完成任务，我们把查找范围缩减至 $[lo, mid]$，否则我们去 $[mid+1, hi]$ 区间中继续查找。

**复杂度分析**

- 时间复杂度：$O(n\log(\Sigma w)$
  - 其中 $n$ 是数组 $weights$ 的长度，$\Sigma w$ 是数组 $weights$ 中元素的和
  - 二分查找需要执行的次数为 $O(\log(\Sigma w))$，每一步中需要对数组 $weights$ 进行依次遍历，时间为 $O(n)$，相乘即可得到总时间复杂度。

- 空间复杂度：$O(1)$。

