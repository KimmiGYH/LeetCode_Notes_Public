# 1711_Count Good Meals_大餐计数 (Medium)

## 解法一：哈希表 $O(nlogS)$**

数据范围：
**Constraints:**

- `1 <= deliciousness.length <= 10^5`
- `0 <= deliciousness[i] <= 2^20`

首先，我们不能暴力枚举，暴力枚举是 $n^{2}$ 的复杂度，$10^{5}$ 平方后就是 $10^{10}$，肯定会超时。

思路：
- 可以考虑枚举其中一个数，比如枚举后面一个数 $a_{i}$，于是问题就变成了：在 $0 \sim a_{i-1}$ 中，有多少个数和 $a_{i}$ 的和是 $2$ 的整次幂。
- 枚举 $2$ 的整次幂。因为 $2$ 的整次幂一共也没多少种。数据范围中所有数的范围是 $2^{20}$。因此两个数的和的 $2$ 的整次幂最多就是 $2^{21}$。因此这里只需枚举一下所有不同的 $2$ 的整次幂即可。
- 从 $2^{0} \sim 2^{21}$，枚举 $22$ 个数
- 用哈希表统计每种数字出现的次数。
- 比如当前枚举的 $2$ 的整次幂是 $S$，只需判断前面有多少个数和 $a_{i}$ 相加的和是 $S$，那其实就是判断一下前面有多少个数等于 $S - a_{i}$
- 用哈希表来解：$S_{k} = 2^{k}$，求 $S_{k} - a{i}$ 出现几次。


**复杂度分析**
- 时间复杂度：$O(nlog{S})$
  - 哈希表统计的时间复杂度为 $O(n)$。
  - 对于每种数字，需要 $O(log{S})$ 的时间统计答案。其中 $S$ 为最大的数字。$log{S}$ 为 $22$。
  - 故总时间复杂度为 $O(nlog{S})$。
- 空间复杂度：
  - 需要 $O(n)$ 的额外空间存储哈希表。


