# 1541_Minimum Insertions to Balance a Parentheses String_平衡括号字符串的最少插入次数

## 栈思想 + 计数方法

- 思路和 $LC921. 使括号有效的最少添加$ 相似，同样是以左括号为基准，维护右括号的个数。
- 以左括号为基准，维护右括号的个数
- 首先，整体维护右括号需求量 `need` 变量的大框架：
    ```cpp
    for (int i = 0; i < s.length(); i++) {
        char c = s[i];
        if (c == '(')  {
            need += 2;
        } else if (c == ')') {
            need --;
        }
    }
    ```
- 其次，判断当 `need` 为 `need == -1` 时，也即右括号的数量较多时，需要插入左括号，同时对右括号的需求变为 `1`。
- 最后，判断在遇到左括号时，要判断右括号的需求量，因为左右括号的匹配是 $1:2$ 的。若对右括号的需求量为奇数，则只需要插入一个右括号。

**复杂度分析**
- 时间复杂度：$O(n)$，其中 $n$ 是字符串的长度。遍历字符串一次。
- 空间复杂度：$O(1)$。只需要维护常量的额外空间。
