# 611_Valid Triangle Number_有效三角形的个数

## 解法一：排序+双指针 $O(n^{2})$

- 思路和 $3Sum$ 有点像，也是固定三个变量中的一个
- 固定三角形最长的边 $A$，枚举 $i$
- 将次长的边 $B$ 由 $j = i-1$ 从右往左枚举
- 由于三角形两边之和大于第三边，即 $B + C > A$，推出 $C > A - B$
- 当不满足上述条件，即当 $C \le A - B$ 时，将 $C$ 的指针 $k$ 不断右移
- $C$ 能取到的值的范围：从 $k$ 到 $j-1$，长度为 $j - 1 - k + 1 = j - k$

**复杂度分析**
- 时间复杂度：整体复杂度为 $O(n^{2})$。
  - 排序时间复杂度为 $O(n\log{n})$
  - 双指针找所有符合条件的三元组的复杂度为 $O(n^{2})$
- 空间复杂度：$O(\log{n})$

## 解法二：排序 + 二分 $O(n^{2}*\log{n})$

- 根据我们以前讲过的的 优化枚举的基本思路，要找符合条件的三元组，其中一个切入点可以是「枚举三元组中的两个值，然后优化找第三数的逻辑」。

- 我们发现，在数组有序的前提下，当枚举到较大数下标 $i$ 和次大数下标 $j$ 时，在 $[0, j)$ 范围内找的符合 $nums[k'] + nums[j] > nums[i]$ 条件的 $k'$ 的集合时，以符合条件的最小下标 $k$ 为分割点的数轴上具有「二段性」。

- 令 $k$ 为符合条件的最小下标，那么在 $nums[i]$ 和 $nums[j]$ 固定时，$[0,j)$ 范围内：
  - 下标大于等于 $k$ 的点集符合条件 $nums[k'] + nums[j] > nums[i]$
  - 下标小于 $k$ 的点集合不符合条件 $nums[k'] + nums[j] > nums[i]$

- 因此我们可以通过「二分」找到这个分割点 $k$，在 $[k,j)$ 范围内即是固定 $j$ 和 $i$ 时，符合条件的 $k'$ 的个数。

**复杂度分析**
- 时间复杂度：整体复杂度为 $O(n^{2}*\log{n})$。
  - 排序时间复杂度为 $O(n\log{n})$；
  - 两层遍历加二分所有符合条件的三元组的复杂度为 $O(n^2*\log{n})$。
- 空间复杂度：$O(\log{n})$


