# 443_String Compression_压缩字符串

```
a a b b c c c c c c c c c c c c
|--------------|------------|---------------|
               i            j
```

- 从前往后扫描，每次扫描一个新字符时，用第二个指针把所有相同的一段找出来，找完之后看这段有多少个字母，将数字转化成字符串
- 答案的字符数量 $\le$ 当前字符的数量，所以可以边遍历边覆盖原字符串前面的位置
- 用 $k$ 表示答案的位置，$t$ 表示插入答案时的另一个指针
- 如果严格遵守 $O(1)$ 空间的要求，则不可以写成 `to_string(len)`
- 需要一位一位把数字抠出来转成字符，讨论 $len > 1$ 的情况
  - 比如数字 $123$，抠出来变成 $321$，所以还需将 $k$ 到 $t-1$ 的字符翻转一下
  - 翻转可以用 `reverse(s.begin() + k, s.begin() + t)`
- 将指针 $i$ 放到 $j-1$ 处
- 最后返回 $k$，即是答案字符数组的新长度。

**复杂度分析**
- 时间复杂度：$O(n)$
- 空间复杂度：$O(1)$





