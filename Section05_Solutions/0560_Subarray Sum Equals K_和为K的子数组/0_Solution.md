# 560. Subarray Sum Equals K_和为K的子数组


## 解法一：前缀和 求区间和

- 要求有多少个以 $i$ 为终点的区间总和是 $k$，相当于求一下有多少个 $k$ 使得 $S_{i} - S_{j} = k$，其中 $j$ 是从 $0$ 开始一直到 $i-1$。
- 论坛上大家比较推崇的其实是这种解法，用一个**哈希表**来建立连续子数组之和跟其出现次数之间的映射，
- 初始化要加入 `{0,1}` 这对映射，这是为啥呢？
  - 因为解题思路是遍历数组中的数字，用 `s[i]` 来记录到当前位置的累加和
  - 我们建立哈希表的目的是为了让我们可以快速的查找前缀和是否存在，即 `s[i] - k` 是否存在，即是否有连续子数组的和为 `s[i] - k`
  - 如果存在的话，那么和为 `k` 的子数组一定也存在
  - 这样当 `s[i]` 刚好为 `k` 的时候，那么数组从起始到当前位置的这段子数组的和就是 `k`，满足题意。
  - 如果哈希表中事先没有 `hash[0]` 项的话，这个符合题意的结果就无法累加到结果 `res` 中，这就是初始化的用途。

**复杂度分析：** $O(n)$
- 时间复杂度：每个位置仅遍历一次，哈希表单次操作的时间复杂度为 $O(1)$，故总时间复杂度为 $O(n)$。
- 空间复杂度：需要额外 $O(n)$ 的空间存储哈希表。