# 113. Path Sum II_路径总和 II (Medium)

**(递归) $O(n^2)$**

这道题目和 112. Path Sum 基本一样，不同点在于需要**把所有路径记录下来**。

递归，自顶向下从根节点往叶节点走，每走过一个节点，就让 `sum` 减去该节点的值，则如果走到某个叶节点时，`sum` 恰好为 `0`，则说明从根节点到这个叶节点的路径上的数的和等于 `sum`，此时需要把这条路径记录下来。

##### 时间复杂度分析

除了记录路径这部分，每个节点仅被遍历一次，且维护 `sum` 和路径的复杂度都是 `O(1)`，所以时间复杂度是 `O(n)`；

而记录路径这部分：`n` 个节点的二叉树的叶子节点数最多是`O(n)` 级别的，且路径的长度最多也是 `O(n)` 级别的，所以时间复杂度最坏是 $O(n^2)$。

`ans.push_back(path);` 这句话会把`path`复制一遍，`path`的长度是 `O(n)` 的，最坏情况下会复制 `O(n)` 次，所以总时间复杂度最坏是 $O(n^2)$ 的。



且最坏情况可以达到：假设总共有 `n` 个节点，用 `n/2` 个节点从根节点开始建一条很长的链，然后用剩下 `n/2` 个节点建一课完全二叉树接在链的结尾。则此时叶节点个数是 $(n/2+1)/2 ∼ O(n)$，所有路径的长度均是 $n/2+log(n/2+1) ∼ O(n)$。所以总时间复杂度是 $O(n^2)$。

