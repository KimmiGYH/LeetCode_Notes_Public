# 594_Longest Harmonious Subsequence_最长和谐子序列 (Easy)

## 解法一：(哈希表) $O(n)$

- 使用 `unordered_map` 哈希表，记录原数组中每个数字出现的次数。

- 遍历哈希表，对于每个数字 $k$，在哈希表中求 $k-1$ 数字出现的次数，二者相加即得到一个极大和谐子序列的长度。在所有的极大和谐子序列中取最大值即可。

**时间复杂度**：

- 哈希表的插入和查询的时间复杂度都是 $O(1)$，故总时间复杂度为 $O(n)$。

## 解法二：枚举排序双指针 $O(logn)$

- 先对 $nums$ 进行排序，然后从前往后使用「双指针」实现「滑动窗口」进行扫描
- 只需要依次找到相邻两个连续相同元素的子序列，检查该这两个子序列的元素的之差是否为 $1$。如果差大于 $1$，只需将左边的指针右移。
- 利用类似与滑动窗口的做法，`i` 指向第一个连续相同元素的子序列的第一个元素，`j` 指向相邻的第二个连续相同元素的子序列的末尾元素，如果满足二者的元素之差为 $1$，则当前的和谐子序列的长度即为两个子序列的长度之和，等于 `j - i + 1`。

**复杂度分析**

- 时间复杂度：$O(NlogN)$，其中 $N$ 为数组的长度。我们首先需要堆数组进行排序，花费的时间复杂度为 $O(NlogN)$，我们需要利用双指针遍历数组花费的时间为 $O(2N)$，总的时间复杂度 $T(N) = O(NlogN) + O(2N) = O(NlogN)$
- 空间复杂度：$O(1)$，需要常数个空间保存中间变量。
