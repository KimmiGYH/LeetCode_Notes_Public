# 295_Find Median from Data Stream_数据流的中位数 (Hard)

![pic](https://pic.leetcode-cn.com/1612362061-eqjoaI-image.png)
## 解法一：对顶堆 $O(nlog⁡n)$

1. 建立一个大根堆，一个小根堆。大根堆存储小于当前中位数，小根堆存储大于等于当前中位数。且小根堆的大小永远都**比大根堆大** $1$ **或相等**。
2. 根据上述定义，我们每次可以通过小根堆的堆顶或者两个堆的堆顶元素的平均数求出中位数。
3. 维护时，如果新加入的元素大于等于当前的中位数，则加入小根堆；否则加入大根堆。然后如果发现两个堆的大小关系不满足上述要求，则可以通过弹出一个堆的元素放到另一个堆中。

**时间复杂度：** 每次维护堆的时间为 $O(log⁡n)$，取出中位数的时间为 $O(1)$。故总时间复杂度为 $O(log⁡n)$。

**空间复杂度：** 需要额外 $O(n)$ 的空间存储堆。
