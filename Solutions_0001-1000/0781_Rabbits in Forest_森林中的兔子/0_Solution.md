# 781_Rabbits in Forest_森林中的兔子

## 解法一：哈希表 + 上取整

思路：
- 数组里的兔子并不全
- 用哈希表来统计 $answers$ 中每个数字出现的次数，然后就是开始处理哈希表里面的统计结果了
- 例 (1)：
  - $5$ 出现了 $8$ 次， 那么至少得 $2*(5+1)$ 只兔子
  - 如果 $5$ 出现了 $6$ 次呢？ 至少需要 $6$ 只兔子
  - 如果 $5$ 出现了 $3$ 次呢？ 还是 $6$ 只兔子

- 例 (2)：
  - 现在有 $13$ 只兔子回答 $5$。
  - 假设其中有一只红色的兔子，那么森林中必然有 $6$ 只红兔子。
  - 再假设其中还有一只蓝色的兔子，同样的道理森林中必然有 $6$ 只蓝兔子。
  - 为了最小化可能的兔子数量，我们假设这 $12$ 只兔子都在这 $13$ 只兔子中。那么还有一只额外的兔子回答 $5$，这只兔子只能是其他的颜色，这一颜色的兔子也有 $6$ 只。
  - 因此这种情况下最少会有 $18$ 只兔子。

- 一般地，如果有 $x$ 只兔子都回答 $y$，则至少有 $\lceil\dfrac{x}{y+1}\rceil$ 种不同的颜色，且每种颜色有 $y+1$ 只兔子，因此兔子数至少为 $\lceil\dfrac{x}{y+1}\rceil \cdot{(y+1)}$

- 我们可以用哈希表统计 $answers$ 中各个元素的出现次数，对每个元素套用上述公式计算，并将计算结果累加，即为最终答案。

注意：
- 上取整技巧：$\left \lceil \frac{a}{b}  \right \rceil = \left \lfloor \frac{a + b - 1}{b}\right \rfloor$
- 这里上取整 $\lceil\dfrac{x}{y+1}\rceil$  写成算法可以为 $\dfrac{x + y}{y+1}$，即 $(x + y) / (y + 1)$

**复杂度分析**

- 时间复杂度：$O(n)$，其中 $n$ 是数组 $answers$ 的长度。
- 空间复杂度：$O(n)$。最坏情况下，哈希表中含有 $n$ 个元素。



